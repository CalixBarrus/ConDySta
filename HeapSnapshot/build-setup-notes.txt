# Gradle requires Java 11+
sudo update-alternatives --config java

# There's a handy gradle wrapper generated by Android Studio in the HeapSnapshot directory
# Check available tasks through the wrapper
./gradlew tasks


# TODO: how does this local properties file work? I should use this...
SDK location not found. Define a valid SDK location with an ANDROID_HOME environment variable or by setting the sdk.dir path in your project's local properties file at '~/programming/ConDySta/HeapSnapshot/local.properties'.

# export ANDROID_SDK_ROOT="$HOME/.android_sdk" from android-setup readme
# export ANDROID_SDK_ROOT="$HOME/Android/Sdk" from android-setup readme
export ANDROID_HOME=$ANDROID_SDK_ROOT

# Need to have android-33 installed
# sdkmanager requires Java 17+
sudo update-alternatives --config java
$ANDROID_SDK_ROOT/cmdline-tools/latest/bin/sdkmanager "platforms;android-33"


# make the apk
./gradlew build 
# puts debug build of apk at build/outputs/apk/debug/app-debug.apk

